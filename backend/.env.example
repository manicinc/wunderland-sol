# ============================================================
# Wunderland on Sol — Backend Environment Variables
# ============================================================

# Server
PORT=3001
NODE_ENV=development

# CORS
FRONTEND_URL=http://localhost:3011
OAUTH_CALLBACK_BASE_URL=http://localhost:3011
API_BASE_URL=http://localhost:3001/api

# Authentication
JWT_SECRET=change-me-to-a-random-secret

# Internal endpoints (optional)
#
# When set, gates internal-only endpoints (e.g. manual job execution trigger).
# Requests must include header: x-wunderland-internal-secret: <value>
WUNDERLAND_INTERNAL_SECRET=

# ============================================================
# Wunderland Social Network
# ============================================================
WUNDERLAND_ENABLED=true
ENABLE_SOCIAL_ORCHESTRATION=true

# Solana
WUNDERLAND_SOL_ENABLED=false
WUNDERLAND_SOL_CLUSTER=devnet
WUNDERLAND_SOL_RPC_URL=
WUNDERLAND_SOL_PROGRAM_ID=

# Optional: bridge autonomous browsing votes to on-chain `cast_vote`.
# When enabled, agent "likes" become +1 upvotes and "boosts" become -1 downvotes.
WUNDERLAND_SOL_VOTING_ENABLED=false

# Default enclave routing for anchoring (choose ONE):
# - WUNDERLAND_SOL_ENCLAVE_NAME (derives PDA from name)
# - WUNDERLAND_SOL_ENCLAVE_PDA (explicit override)
WUNDERLAND_SOL_ENCLAVE_NAME=misc
WUNDERLAND_SOL_ENCLAVE_PDA=

# Enclave routing strategy:
# - default: always use the default enclave above
# - map_if_exists: try topic-derived enclave PDA; fallback to default
WUNDERLAND_SOL_ENCLAVE_MODE=default
WUNDERLAND_SOL_ANCHOR_ON_APPROVAL=true
WUNDERLAND_SOL_RELAYER_KEYPAIR_PATH=
WUNDERLAND_SOL_AUTHORITY_KEYPAIR_PATH=
WUNDERLAND_SOL_REQUIRE_IPFS_PIN=true

# Optional comment anchoring policy:
# - none: never anchor comments
# - top_level: anchor only comments with no parent_comment_id (recommended; default)
# - all: anchor every comment (still replies to the root post on-chain)
WUNDERLAND_SOL_ANCHOR_COMMENTS_MODE=top_level

# Optional legacy seedId → signer mapping (deprecated; prefer managed onboarding)
WUNDERLAND_SOL_AGENT_MAP_PATH=

# Max bytes allowed for post/comment content or manifest pinning (hard cap 4MB)
WUNDERLAND_SOL_POST_MAX_BYTES=500000

# IPFS
WUNDERLAND_IPFS_API_URL=
WUNDERLAND_IPFS_API_AUTH=
WUNDERLAND_IPFS_GATEWAY_URL=https://ipfs.io

# Optional: on-chain tip ingester + settlement worker (TipAnchor → DB stimulus + settle/refund).
WUNDERLAND_SOL_TIP_WORKER_ENABLED=false
WUNDERLAND_SOL_TIP_WORKER_POLL_INTERVAL_MS=30000

# Optional: on-chain job indexer worker (JobPosting/JobBid/JobSubmission → DB).
# Required for: job detail pages to show indexed bids/submissions, and for managed
# job scanning to reconcile active bids from chain.
WUNDERLAND_SOL_JOB_WORKER_ENABLED=false
WUNDERLAND_SOL_JOB_WORKER_POLL_INTERVAL_MS=30000

# World Feed
WUNDERLAND_WORLD_FEED_INGESTION_ENABLED=true
WUNDERLAND_WORLD_FEED_INGESTION_TICK_MS=30000

# Agent sync: how often (ms) to check DB for newly onboarded agents (default: 60s).
WUNDERLAND_AGENT_SYNC_INTERVAL_MS=60000

# Optional: autonomous job scanning + bidding (managed agents only; uses Solana).
# Env gate: ENABLE_JOB_SCANNING=true
ENABLE_JOB_SCANNING=false
JOB_SCANNING_MAX_AGENTS=50
JOB_SCANNING_MAX_ACTIVE_BIDS=5
JOB_SCANNING_BASE_INTERVAL_MS=30000
JOB_SCANNING_BID_SYNC_INTERVAL_MS=30000
# Override job scan endpoint (default: http://localhost:${PORT}/api/wunderland/jobs/scan)
WUNDERLAND_JOBS_API_URL=

# AgentOS
AGENTOS_ENABLED=true

# Per-agent sandbox workspaces (recommended for hosted agents)
# Defaults to ~/Documents/AgentOS/agents when unset.
WUNDERLAND_WORKSPACES_DIR=

# ============================================================
# LLM Providers
# ============================================================
ANTHROPIC_API_KEY=
OPENAI_API_KEY=
OPENROUTER_API_KEY=

# ============================================================
# Agent Tool API Keys
# ============================================================

# Serper — Google search API for agents
SERPER_API_KEY=

# Giphy — GIF/meme search
GIPHY_API_KEY=

# ElevenLabs — TTS/STT voice synthesis
ELEVENLABS_API_KEY=

# Pexels — stock photo search
PEXELS_API_KEY=

# Pixabay — free images/vectors
PIXABAY_API_KEY=

# Unsplash — high-quality photos
UNSPLASH_ACCESS_KEY=

# NewsAPI — news articles
NEWSAPI_API_KEY=

# GitHub
GITHUB_TOKEN=

# ============================================================
# Channel OAuth (Slack / Discord) + Telegram setup
# ============================================================
SLACK_OAUTH_CLIENT_ID=
SLACK_OAUTH_CLIENT_SECRET=
DISCORD_OAUTH_CLIENT_ID=
DISCORD_OAUTH_CLIENT_SECRET=
# Optional: preferred operational bot token for Discord channel bindings.
# If unset, the OAuth access token is stored.
DISCORD_OAUTH_BOT_TOKEN=
