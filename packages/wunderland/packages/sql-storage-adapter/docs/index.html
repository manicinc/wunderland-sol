<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>SQL Storage Adapter - v0.2.0</title><meta name="description" content="Documentation for SQL Storage Adapter"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"><a href="https://frame.dev">Frame.dev</a><a href="https://github.com/framersai/sql-storage-adapter">GitHub</a><a href="https://www.npmjs.com/package/@framers/sql-storage-adapter">NPM</a></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">SQL Storage Adapter - v0.2.0</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>SQL Storage Adapter - v0.2.0</h1></div><div class="tsd-panel tsd-typography"><p align="center">
  <a href="https://frame.dev" target="_blank" rel="noopener">
    <img src="media/frame-wordmark.svg" alt="Frame logo" width="320">
  </a>
</p>
<a id="md:sql-storage-adapter" class="tsd-anchor"></a><h1 class="tsd-anchor-link">SQL Storage Adapter<a href="#md:sql-storage-adapter" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="https://www.npmjs.com/package/@framers/sql-storage-adapter" target="_blank" class="external"><img src="https://img.shields.io/npm/v/@framers/sql-storage-adapter.svg" alt="npm version"></a>
<a href="https://github.com/framersai/sql-storage-adapter/actions/workflows/ci.yml" target="_blank" class="external"><img src="https://github.com/framersai/sql-storage-adapter/actions/workflows/ci.yml/badge.svg" alt="CI"></a>
<a href="https://codecov.io/gh/framersai/sql-storage-adapter" target="_blank" class="external"><img src="https://codecov.io/gh/framersai/sql-storage-adapter/branch/master/graph/badge.svg" alt="codecov"></a>
<a href="https://www.typescriptlang.org/" target="_blank" class="external"><img src="https://img.shields.io/badge/TypeScript-5.6-blue.svg" alt="TypeScript"></a></p>
<blockquote>
<p>One SQL interface for Node.js, browsers, and mobile apps. Write your database code once, run it anywhere.</p>
</blockquote>
<p><strong><a href="https://framersai.github.io/sql-storage-adapter/" target="_blank" class="external">Documentation</a></strong> | <strong><a href="https://github.com/framersai/sql-storage-adapter" target="_blank" class="external">GitHub</a></strong> | <strong><a href="https://www.npmjs.com/package/@framers/sql-storage-adapter" target="_blank" class="external">NPM</a></strong> | <strong><a href="media/CHANGELOG.md">Changelog</a></strong> | <strong><a href="https://frame.dev" target="_blank" class="external">Frame.dev</a></strong></p>
<a id="md:why" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Why?<a href="#md:why" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Build apps that work across platforms without rewriting database code:</p>
<ul>
<li>üñ•Ô∏è <strong>Desktop</strong> (Electron) - fast local storage with better-sqlite3</li>
<li>üåê <strong>Web</strong> - in-browser SQL with sql.js (WebAssembly)</li>
<li>üì± <strong>Mobile</strong> (Capacitor/React Native) - native SQLite</li>
<li>‚òÅÔ∏è <strong>Server</strong> - PostgreSQL or SQLite</li>
</ul>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">createDatabase</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Auto-picks the best adapter for your environment</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">createDatabase</span><span class="hl-1">();</span><br/><br/><span class="hl-4">// Same code everywhere</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">run</span><span class="hl-1">(</span><span class="hl-3">&#39;INSERT INTO users (name) VALUES (?)&#39;</span><span class="hl-1">, [</span><span class="hl-3">&#39;Alice&#39;</span><span class="hl-1">]);</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">user</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">get</span><span class="hl-1">(</span><span class="hl-3">&#39;SELECT * FROM users WHERE id = ?&#39;</span><span class="hl-1">, [</span><span class="hl-8">1</span><span class="hl-1">]);</span>
</code><button type="button">Copy</button></pre>

<a id="md:installation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Installation<a href="#md:installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-7">npm</span><span class="hl-1"> </span><span class="hl-3">install</span><span class="hl-1"> </span><span class="hl-3">@framers/sql-storage-adapter</span><br/><br/><span class="hl-4"># Install adapters you need:</span><br/><span class="hl-7">npm</span><span class="hl-1"> </span><span class="hl-3">install</span><span class="hl-1"> </span><span class="hl-3">better-sqlite3</span><span class="hl-1">      </span><span class="hl-4"># Desktop (Node.js/Electron)</span><br/><span class="hl-7">npm</span><span class="hl-1"> </span><span class="hl-3">install</span><span class="hl-1"> </span><span class="hl-3">pg</span><span class="hl-1">                  </span><span class="hl-4"># PostgreSQL (servers)</span><br/><span class="hl-7">npm</span><span class="hl-1"> </span><span class="hl-3">install</span><span class="hl-1"> </span><span class="hl-3">@capacitor-community/sqlite</span><span class="hl-1">  </span><span class="hl-4"># Mobile (Capacitor)</span><br/><span class="hl-4"># sql.js included - no extra install needed</span>
</code><button type="button">Copy</button></pre>

<a id="md:quick-start" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Quick Start<a href="#md:quick-start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">createDatabase</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Create database (auto-detects best option)</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">createDatabase</span><span class="hl-1">();</span><br/><br/><span class="hl-4">// Create table</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">exec</span><span class="hl-1">(</span><span class="hl-3">`</span><br/><span class="hl-3">  CREATE TABLE IF NOT EXISTS todos (</span><br/><span class="hl-3">    id INTEGER PRIMARY KEY,</span><br/><span class="hl-3">    task TEXT NOT NULL,</span><br/><span class="hl-3">    done INTEGER DEFAULT 0</span><br/><span class="hl-3">  )</span><br/><span class="hl-3">`</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Insert data</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">run</span><span class="hl-1">(</span><span class="hl-3">&#39;INSERT INTO todos (task) VALUES (?)&#39;</span><span class="hl-1">, [</span><span class="hl-3">&#39;Buy groceries&#39;</span><span class="hl-1">]);</span><br/><br/><span class="hl-4">// Query data</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">todos</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">all</span><span class="hl-1">(</span><span class="hl-3">&#39;SELECT * FROM todos WHERE done = 0&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Clean up</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">close</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="md:project-structure" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Project Structure<a href="#md:project-structure" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code><span class="hl-2">src</span><span class="hl-1">/</span><br/><span class="hl-1">  </span><span class="hl-2">adapters</span><span class="hl-1">/            # </span><span class="hl-2">Storage</span><span class="hl-1"> </span><span class="hl-7">backends</span><span class="hl-1"> (</span><span class="hl-2">better</span><span class="hl-1">-</span><span class="hl-2">sqlite3</span><span class="hl-1">, </span><span class="hl-2">postgres</span><span class="hl-1">, </span><span class="hl-2">sql</span><span class="hl-1">.</span><span class="hl-2">js</span><span class="hl-1">, </span><span class="hl-2">supabase</span><span class="hl-1">, ...)</span><br/><span class="hl-1">  </span><span class="hl-2">core</span><span class="hl-1">/                # </span><span class="hl-2">Fundamental</span><span class="hl-1"> </span><span class="hl-2">contracts</span><span class="hl-1">, </span><span class="hl-2">resolver</span><span class="hl-1">, </span><span class="hl-2">and</span><span class="hl-1"> </span><span class="hl-2">database</span><span class="hl-1"> </span><span class="hl-2">APIs</span><br/><span class="hl-1">  </span><span class="hl-2">features</span><span class="hl-1">/</span><br/><span class="hl-1">    </span><span class="hl-2">backup</span><span class="hl-1">/            # </span><span class="hl-2">Cloud</span><span class="hl-1"> </span><span class="hl-2">backup</span><span class="hl-1"> </span><span class="hl-2">manager</span><br/><span class="hl-1">    </span><span class="hl-2">migrations</span><span class="hl-1">/        # </span><span class="hl-2">Export</span><span class="hl-1">/</span><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">helpers</span><br/><span class="hl-1">    </span><span class="hl-2">sync</span><span class="hl-1">/              # </span><span class="hl-2">Offline</span><span class="hl-1">/</span><span class="hl-2">online</span><span class="hl-1"> </span><span class="hl-2">sync</span><span class="hl-1"> </span><span class="hl-2">manager</span><br/><span class="hl-1">  </span><span class="hl-2">shared</span><span class="hl-1">/              # </span><span class="hl-2">Cross</span><span class="hl-1">-</span><span class="hl-2">cutting</span><span class="hl-1"> </span><span class="hl-2">helpers</span><span class="hl-1"> (</span><span class="hl-2">e</span><span class="hl-1">.</span><span class="hl-2">g</span><span class="hl-1">. </span><span class="hl-2">parameter</span><span class="hl-1"> </span><span class="hl-2">normalisation</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-2">types</span><span class="hl-1">/               # </span><span class="hl-2">Type</span><span class="hl-1">-</span><span class="hl-2">only</span><span class="hl-1"> </span><span class="hl-2">re</span><span class="hl-1">-</span><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">entrypoints</span>
</code><button>Copy</button></pre>

<p>The new layout makes it easier to jump between low-level contracts and higher-level features, and keeps optional tooling out of the critical path for runtime adapters.</p>
<a id="md:core-api" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Core API<a href="#md:core-api" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-4">// Execute SQL (no results)</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">exec</span><span class="hl-1">(</span><span class="hl-3">&#39;CREATE TABLE users (id INTEGER PRIMARY KEY, name TEXT)&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Run mutation (INSERT/UPDATE/DELETE)</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">run</span><span class="hl-1">(</span><span class="hl-3">&#39;INSERT INTO users (name) VALUES (?)&#39;</span><span class="hl-1">, [</span><span class="hl-3">&#39;Alice&#39;</span><span class="hl-1">]);</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-2">result</span><span class="hl-1">.</span><span class="hl-2">lastInsertRowid</span><span class="hl-1">);  </span><span class="hl-4">// Auto-increment ID</span><br/><br/><span class="hl-4">// Get single row</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">user</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">get</span><span class="hl-1">&lt;</span><span class="hl-9">User</span><span class="hl-1">&gt;(</span><span class="hl-3">&#39;SELECT * FROM users WHERE id = ?&#39;</span><span class="hl-1">, [</span><span class="hl-8">1</span><span class="hl-1">]);</span><br/><br/><span class="hl-4">// Get all rows</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">users</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">all</span><span class="hl-1">&lt;</span><span class="hl-9">User</span><span class="hl-1">&gt;(</span><span class="hl-3">&#39;SELECT * FROM users&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Transactions (automatic commit/rollback)</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">transaction</span><span class="hl-1">(</span><span class="hl-5">async</span><span class="hl-1"> (</span><span class="hl-2">tx</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">tx</span><span class="hl-1">.</span><span class="hl-7">run</span><span class="hl-1">(</span><span class="hl-3">&#39;INSERT INTO users (name) VALUES (?)&#39;</span><span class="hl-1">, [</span><span class="hl-3">&#39;Bob&#39;</span><span class="hl-1">]);</span><br/><span class="hl-1">  </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">tx</span><span class="hl-1">.</span><span class="hl-7">run</span><span class="hl-1">(</span><span class="hl-3">&#39;INSERT INTO posts (user_id, title) VALUES (?, ?)&#39;</span><span class="hl-1">, [</span><span class="hl-8">1</span><span class="hl-1">, </span><span class="hl-3">&#39;Hello&#39;</span><span class="hl-1">]);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Batch operations (if supported)</span><br/><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-2">capabilities</span><span class="hl-1">.</span><span class="hl-7">has</span><span class="hl-1">(</span><span class="hl-3">&#39;batch&#39;</span><span class="hl-1">)) {</span><br/><span class="hl-1">  </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">batch</span><span class="hl-1">([</span><br/><span class="hl-1">    { </span><span class="hl-2">statement:</span><span class="hl-1"> </span><span class="hl-3">&#39;INSERT INTO users (name) VALUES (?)&#39;</span><span class="hl-1">, </span><span class="hl-2">parameters:</span><span class="hl-1"> [</span><span class="hl-3">&#39;Alice&#39;</span><span class="hl-1">] },</span><br/><span class="hl-1">    { </span><span class="hl-2">statement:</span><span class="hl-1"> </span><span class="hl-3">&#39;INSERT INTO users (name) VALUES (?)&#39;</span><span class="hl-1">, </span><span class="hl-2">parameters:</span><span class="hl-1"> [</span><span class="hl-3">&#39;Bob&#39;</span><span class="hl-1">] }</span><br/><span class="hl-1">  ]);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">// Close connection</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">close</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="md:adapter-selection" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Adapter Selection<a href="#md:adapter-selection" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Auto-detection order:</p>
<pre><code><span class="hl-1">üñ•Ô∏è </span><span class="hl-2">Node</span><span class="hl-1">.</span><span class="hl-2">js</span><span class="hl-1">:     </span><span class="hl-2">better</span><span class="hl-1">-</span><span class="hl-2">sqlite3</span><span class="hl-1"> ‚Üí </span><span class="hl-2">sql</span><span class="hl-1">.</span><span class="hl-2">js</span><br/><span class="hl-1">üåê </span><span class="hl-10">Browser</span><span class="hl-1">:     </span><span class="hl-2">sql</span><span class="hl-1">.</span><span class="hl-2">js</span><br/><span class="hl-1">üì± </span><span class="hl-10">Mobile</span><span class="hl-1">:      </span><span class="hl-2">capacitor</span><span class="hl-1">-</span><span class="hl-2">sqlite</span><span class="hl-1"> ‚Üí </span><span class="hl-2">sql</span><span class="hl-1">.</span><span class="hl-2">js</span><br/><span class="hl-1">‚òÅÔ∏è </span><span class="hl-10">Server</span><span class="hl-1">:      </span><span class="hl-2">postgres</span><span class="hl-1"> ‚Üí </span><span class="hl-2">better</span><span class="hl-1">-</span><span class="hl-2">sqlite3</span><span class="hl-1"> ‚Üí </span><span class="hl-2">sql</span><span class="hl-1">.</span><span class="hl-2">js</span>
</code><button>Copy</button></pre>

<p>Override with specific adapter:</p>
<pre><code class="typescript"><span class="hl-4">// Use PostgreSQL explicitly</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">createDatabase</span><span class="hl-1">({ </span><br/><span class="hl-1">  </span><span class="hl-2">url:</span><span class="hl-1"> </span><span class="hl-3">&#39;postgresql://localhost/mydb&#39;</span><span class="hl-1"> </span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Use SQLite explicitly</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">createDatabase</span><span class="hl-1">({ </span><br/><span class="hl-1">  </span><span class="hl-2">file:</span><span class="hl-1"> </span><span class="hl-3">&#39;./app.db&#39;</span><span class="hl-1"> </span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Custom priority</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">createDatabase</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">priority:</span><span class="hl-1"> [</span><span class="hl-3">&#39;postgres&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;better-sqlite3&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-2">postgres:</span><span class="hl-1"> { </span><span class="hl-2">connectionString:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DATABASE_URL</span><span class="hl-1"> },</span><br/><span class="hl-1">  </span><span class="hl-2">filePath:</span><span class="hl-1"> </span><span class="hl-3">&#39;./fallback.db&#39;</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:auto-sync--offline-support" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Auto-Sync &amp; Offline Support<a href="#md:auto-sync--offline-support" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Build offline-first apps with automatic cloud sync:</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">createSyncManager</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">manager</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">createSyncManager</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">primary:</span><span class="hl-1"> </span><span class="hl-3">&#39;./app.db&#39;</span><span class="hl-1">,                     </span><span class="hl-4">// Local SQLite</span><br/><span class="hl-1">  </span><span class="hl-2">remote:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DATABASE_URL</span><span class="hl-1">,        </span><span class="hl-4">// Cloud PostgreSQL</span><br/><span class="hl-1">  </span><span class="hl-2">sync:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">mode:</span><span class="hl-1"> </span><span class="hl-3">&#39;auto&#39;</span><span class="hl-1">,                          </span><span class="hl-4">// Auto-sync after writes</span><br/><span class="hl-1">    </span><span class="hl-2">conflictStrategy:</span><span class="hl-1"> </span><span class="hl-3">&#39;last-write-wins&#39;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Work offline</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">manager</span><span class="hl-1">.</span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">run</span><span class="hl-1">(</span><span class="hl-3">&#39;INSERT INTO tasks (title) VALUES (?)&#39;</span><span class="hl-1">, [</span><span class="hl-3">&#39;Buy milk&#39;</span><span class="hl-1">]);</span><br/><br/><span class="hl-4">// Sync manually when needed</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">manager</span><span class="hl-1">.</span><span class="hl-7">sync</span><span class="hl-1">();</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">`Synced </span><span class="hl-5">${</span><span class="hl-2">result</span><span class="hl-11">.</span><span class="hl-2">recordsSynced</span><span class="hl-5">}</span><span class="hl-3"> records`</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>Sync Modes:</strong></p>
<ul>
<li><code>manual</code> - Call <code>sync()</code> explicitly (default)</li>
<li><code>auto</code> - Syncs after writes (debounced)</li>
<li><code>periodic</code> - Syncs every N seconds</li>
<li><code>realtime</code> - Syncs immediately on every write</li>
<li><code>on-reconnect</code> - Syncs when network returns</li>
</ul>
<p><strong>Conflict Strategies:</strong></p>
<ul>
<li><code>last-write-wins</code> - Newest timestamp wins (default)</li>
<li><code>local-wins</code> - Local always wins</li>
<li><code>remote-wins</code> - Server is authority</li>
<li><code>merge</code> - Custom merge function</li>
<li><code>keep-both</code> - Duplicate records</li>
</ul>
<p>üìñ <strong><a href="media/OFFLINE_SYNC.md">Complete Offline Sync Guide</a></strong> - 8 real-world examples with mobile optimization</p>
<a id="md:cloud-backups" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Cloud Backups<a href="#md:cloud-backups" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Automatic S3-compatible backups (AWS S3, Cloudflare R2, MinIO):</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">S3Client</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@aws-sdk/client-s3&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">createCloudBackupManager</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">s3</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">S3Client</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">region:</span><span class="hl-1"> </span><span class="hl-3">&#39;us-east-1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">credentials:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">accessKeyId:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">AWS_ACCESS_KEY_ID</span><span class="hl-1">!,</span><br/><span class="hl-1">    </span><span class="hl-2">secretAccessKey:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">AWS_SECRET_ACCESS_KEY</span><span class="hl-1">!</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">manager</span><span class="hl-1"> = </span><span class="hl-7">createCloudBackupManager</span><span class="hl-1">(</span><span class="hl-2">db</span><span class="hl-1">, </span><span class="hl-2">s3</span><span class="hl-1">, </span><span class="hl-3">&#39;my-backups&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-2">interval:</span><span class="hl-1"> </span><span class="hl-8">3600000</span><span class="hl-1">,  </span><span class="hl-4">// Hourly backups</span><br/><span class="hl-1">  </span><span class="hl-2">maxBackups:</span><span class="hl-1"> </span><span class="hl-8">24</span><span class="hl-1">,     </span><span class="hl-4">// Keep 24 backups</span><br/><span class="hl-1">  </span><span class="hl-2">options:</span><span class="hl-1"> { </span><span class="hl-2">compression:</span><span class="hl-1"> </span><span class="hl-3">&#39;gzip&#39;</span><span class="hl-1"> }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-2">manager</span><span class="hl-1">.</span><span class="hl-7">start</span><span class="hl-1">();  </span><span class="hl-4">// Auto-backup every hour</span><br/><br/><span class="hl-4">// Manual backup</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">manager</span><span class="hl-1">.</span><span class="hl-7">backupNow</span><span class="hl-1">();</span><br/><br/><span class="hl-4">// Restore</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">manager</span><span class="hl-1">.</span><span class="hl-7">restore</span><span class="hl-1">(</span><span class="hl-3">&#39;backups/my-database-2024-01-15.json.gz&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="md:data-migration" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Data Migration<a href="#md:data-migration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Export, import, and migrate between adapters:</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><br/><span class="hl-1">  </span><span class="hl-2">migrateLocalToSupabase</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">exportAsJSON</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">importFromJSON</span><span class="hl-1"> </span><br/><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Export to JSON</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">backup</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">exportAsJSON</span><span class="hl-1">(</span><span class="hl-2">db</span><span class="hl-1">, { </span><br/><span class="hl-1">  </span><span class="hl-2">tables:</span><span class="hl-1"> [</span><span class="hl-3">&#39;users&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;posts&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-2">includeSchema:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1"> </span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Import from JSON</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">importFromJSON</span><span class="hl-1">(</span><span class="hl-2">db</span><span class="hl-1">, </span><span class="hl-2">backup</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-2">dropTables:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">batchSize:</span><span class="hl-1"> </span><span class="hl-8">100</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Migrate SQLite ‚Üí PostgreSQL</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">migrateLocalToSupabase</span><span class="hl-1">(</span><span class="hl-2">sqliteDb</span><span class="hl-1">, </span><span class="hl-2">postgresDb</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-2">verify:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">onConflict:</span><span class="hl-1"> </span><span class="hl-3">&#39;replace&#39;</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">`Migrated </span><span class="hl-5">${</span><span class="hl-2">result</span><span class="hl-11">.</span><span class="hl-2">rowsImported</span><span class="hl-5">}</span><span class="hl-3"> rows in </span><span class="hl-5">${</span><span class="hl-2">result</span><span class="hl-11">.</span><span class="hl-2">duration</span><span class="hl-5">}</span><span class="hl-3">ms`</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="md:postgresql-remote-connections" class="tsd-anchor"></a><h2 class="tsd-anchor-link">PostgreSQL Remote Connections<a href="#md:postgresql-remote-connections" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Connect to hosted databases (AWS RDS, Heroku, Supabase, etc.):</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">connectDatabase</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Auto-detect from DATABASE_URL</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">connectDatabase</span><span class="hl-1">(</span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DATABASE_URL</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Or configure explicitly</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">connectDatabase</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">host:</span><span class="hl-1"> </span><span class="hl-3">&#39;db.example.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">database:</span><span class="hl-1"> </span><span class="hl-3">&#39;myapp&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">user:</span><span class="hl-1"> </span><span class="hl-3">&#39;dbuser&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">password:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DB_PASSWORD</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">ssl:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">max:</span><span class="hl-1"> </span><span class="hl-8">20</span><span class="hl-1">  </span><span class="hl-4">// Connection pool size</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Same API as SQLite!</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">users</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">all</span><span class="hl-1">(</span><span class="hl-3">&#39;SELECT * FROM users&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>üìñ <strong><a href="media/POSTGRES_REMOTE_CONNECTION.md">PostgreSQL Remote Guide</a></strong> - Cloud provider examples &amp; SSL config</p>
<a id="md:adapter-comparison" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Adapter Comparison<a href="#md:adapter-comparison" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><table>
<thead>
<tr>
<th>Adapter</th>
<th>Best For</th>
<th>Speed</th>
<th>Size</th>
<th>Concurrent</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>PostgreSQL</strong></td>
<td>Production servers</td>
<td>‚ö°‚ö°‚ö°</td>
<td>N/A</td>
<td>‚úÖ Yes</td>
</tr>
<tr>
<td><strong>better-sqlite3</strong></td>
<td>Desktop apps</td>
<td>‚ö°‚ö°‚ö°</td>
<td>6 MB</td>
<td>‚ùå No</td>
</tr>
<tr>
<td><strong>SQL.js</strong></td>
<td>Browsers</td>
<td>‚ö°</td>
<td>2.3 MB</td>
<td>‚ùå No</td>
</tr>
<tr>
<td><strong>Capacitor</strong></td>
<td>Mobile apps</td>
<td>‚ö°‚ö°‚ö°</td>
<td>~1 MB</td>
<td>‚ùå No</td>
</tr>
</tbody>
</table>
<a id="md:typescript-support" class="tsd-anchor"></a><h2 class="tsd-anchor-link">TypeScript Support<a href="#md:typescript-support" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Full type safety with generics:</p>
<pre><code class="typescript"><span class="hl-5">interface</span><span class="hl-1"> </span><span class="hl-9">User</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">id</span><span class="hl-1">: </span><span class="hl-9">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">name</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">email</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">// Type-safe queries</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">user</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">get</span><span class="hl-1">&lt;</span><span class="hl-9">User</span><span class="hl-1">&gt;(</span><span class="hl-3">&#39;SELECT * FROM users WHERE id = ?&#39;</span><span class="hl-1">, [</span><span class="hl-8">1</span><span class="hl-1">]);</span><br/><span class="hl-4">// user: User | null</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">users</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">all</span><span class="hl-1">&lt;</span><span class="hl-9">User</span><span class="hl-1">&gt;(</span><span class="hl-3">&#39;SELECT * FROM users&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">// users: User[]</span><br/><br/><span class="hl-4">// Runtime introspection</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">context</span><span class="hl-1"> = </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-2">context</span><span class="hl-1">;</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">&#39;Adapter:&#39;</span><span class="hl-1">, </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-2">kind</span><span class="hl-1">);</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">&#39;Capabilities:&#39;</span><span class="hl-1">, </span><span class="hl-2">Array</span><span class="hl-1">.</span><span class="hl-7">from</span><span class="hl-1">(</span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-2">capabilities</span><span class="hl-1">));</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">&#39;Max connections:&#39;</span><span class="hl-1">, </span><span class="hl-2">context</span><span class="hl-1">.</span><span class="hl-7">getLimitations</span><span class="hl-1">().</span><span class="hl-2">maxConnections</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>Type-only imports are now available via the dedicated entrypoint:</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-0">type</span><span class="hl-1"> { </span><span class="hl-2">StorageAdapterCapabilities</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter/types&#39;</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<a id="md:event-monitoring" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Event Monitoring<a href="#md:event-monitoring" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Track queries and performance:</p>
<pre><code class="typescript"><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-2">events</span><span class="hl-1">.</span><span class="hl-7">on</span><span class="hl-1">(</span><span class="hl-3">&#39;query:error&#39;</span><span class="hl-1">, (</span><span class="hl-2">event</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-3">&#39;Query failed:&#39;</span><span class="hl-1">, </span><span class="hl-2">event</span><span class="hl-1">.</span><span class="hl-2">statement</span><span class="hl-1">, </span><span class="hl-2">event</span><span class="hl-1">.</span><span class="hl-2">error</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-2">events</span><span class="hl-1">.</span><span class="hl-7">on</span><span class="hl-1">(</span><span class="hl-3">&#39;performance:slow-query&#39;</span><span class="hl-1">, (</span><span class="hl-2">event</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">event</span><span class="hl-1">.</span><span class="hl-2">duration</span><span class="hl-1"> &gt; </span><span class="hl-8">1000</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">warn</span><span class="hl-1">(</span><span class="hl-3">`Slow query (</span><span class="hl-5">${</span><span class="hl-2">event</span><span class="hl-11">.</span><span class="hl-2">duration</span><span class="hl-5">}</span><span class="hl-3">ms):`</span><span class="hl-1">, </span><span class="hl-2">event</span><span class="hl-1">.</span><span class="hl-2">statement</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-2">events</span><span class="hl-1">.</span><span class="hl-7">on</span><span class="hl-1">(</span><span class="hl-3">&#39;transaction:rollback&#39;</span><span class="hl-1">, (</span><span class="hl-2">event</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">warn</span><span class="hl-1">(</span><span class="hl-3">&#39;Transaction rolled back:&#39;</span><span class="hl-1">, </span><span class="hl-2">event</span><span class="hl-1">.</span><span class="hl-2">error</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:examples" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Examples<a href="#md:examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Real-world usage in <code>examples/</code>:</p>
<ul>
<li><code>basic-usage.ts</code> - Getting started</li>
<li><code>remote-postgres.ts</code> - Cloud database connections</li>
<li><code>electron-app/</code> - Desktop app with better-sqlite3</li>
<li><code>browser-extension/</code> - Chrome extension with SQL.js</li>
<li><code>full-stack/</code> - Shared code frontend/backend</li>
<li><code>offline-sync.ts</code> - Auto-sync patterns</li>
<li><code>testing/</code> - Unit testing strategies</li>
</ul>
<a id="md:faq" class="tsd-anchor"></a><h2 class="tsd-anchor-link">FAQ<a href="#md:faq" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><strong>Q: Which adapter should I use?</strong><br>
Use <code>createDatabase()</code> - it auto-picks the best adapter for your environment.</p>
<p><strong>Q: Can I switch adapters later?</strong><br>
Yes. Use migration functions to move data between adapters.</p>
<p><strong>Q: Is this production-ready?</strong><br>
Yes. Built on battle-tested libraries (pg, better-sqlite3, sql.js). The adapter layer adds &lt;1% overhead.</p>
<p><strong>Q: What about schema migrations?</strong><br>
Use any migration tool: <a href="https://github.com/salsita/node-pg-migrate" target="_blank" class="external"><code>node-pg-migrate</code></a>, <a href="https://www.prisma.io/" target="_blank" class="external"><code>prisma</code></a>, or raw SQL.</p>
<p><strong>Q: How do I handle conflicts in sync?</strong><br>
Use <code>conflictStrategy</code>: <code>last-write-wins</code> (default), <code>local-wins</code>, <code>remote-wins</code>, <code>merge</code>, or <code>keep-both</code>.</p>
<p><strong>Q: Can I sync only on WiFi?</strong><br>
Yes. Use <code>mode: 'manual'</code> and call <code>sync()</code> when <code>isOnWiFi === true</code>. See <a href="./guides/OFFLINE_SYNC.md#1-mobile-app-with-wifi-only-sync">Offline Sync Guide</a>.</p>
<a id="md:documentation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Documentation<a href="#md:documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><strong><a href="https://framersai.github.io/sql-storage-adapter/" target="_blank" class="external">API Documentation</a></strong> - Complete TypeDoc reference</li>
<li><strong><a href="media/OFFLINE_SYNC.md">Offline Sync Guide</a></strong> - Comprehensive sync patterns</li>
<li><strong><a href="media/POSTGRES_REMOTE_CONNECTION.md">PostgreSQL Guide</a></strong> - Remote database setup</li>
<li><strong><a href="media/ARCHITECTURE.md">Architecture</a></strong> - Design decisions</li>
</ul>
<a id="md:contributing" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Contributing<a href="#md:contributing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>See <a href="media/CONTRIBUTING.md">CONTRIBUTING.md</a></p>
<a id="md:license" class="tsd-anchor"></a><h2 class="tsd-anchor-link">License<a href="#md:license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>MIT ¬© <a href="https://frame.dev" target="_blank" class="external">The Framers</a></p>
<hr>
<p align="center">
  <a href="https://frame.dev" target="_blank" rel="noopener">
    <img src="media/frame-wordmark.svg" alt="Frame.dev wordmark" width="200">
  </a>
</p></div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:sql-storage-adapter"><span>SQL <wbr/>Storage <wbr/>Adapter</span></a><ul><li><a href="#md:why"><span>Why?</span></a></li><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:quick-start"><span>Quick <wbr/>Start</span></a></li><li><a href="#md:project-structure"><span>Project <wbr/>Structure</span></a></li><li><a href="#md:core-api"><span>Core API</span></a></li><li><a href="#md:adapter-selection"><span>Adapter <wbr/>Selection</span></a></li><li><a href="#md:auto-sync--offline-support"><span>Auto-<wbr/>Sync &amp; <wbr/>Offline <wbr/>Support</span></a></li><li><a href="#md:cloud-backups"><span>Cloud <wbr/>Backups</span></a></li><li><a href="#md:data-migration"><span>Data <wbr/>Migration</span></a></li><li><a href="#md:postgresql-remote-connections"><span>PostgreSQL <wbr/>Remote <wbr/>Connections</span></a></li><li><a href="#md:adapter-comparison"><span>Adapter <wbr/>Comparison</span></a></li><li><a href="#md:typescript-support"><span>Type<wbr/>Script <wbr/>Support</span></a></li><li><a href="#md:event-monitoring"><span>Event <wbr/>Monitoring</span></a></li><li><a href="#md:examples"><span>Examples</span></a></li><li><a href="#md:faq"><span>FAQ</span></a></li><li><a href="#md:documentation"><span>Documentation</span></a></li><li><a href="#md:contributing"><span>Contributing</span></a></li><li><a href="#md:license"><span>License</span></a></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://frame.dev" class="tsd-nav-link">Frame.dev</a><a href="https://github.com/framersai/sql-storage-adapter" class="tsd-nav-link">GitHub</a><a href="https://www.npmjs.com/package/@framers/sql-storage-adapter" class="tsd-nav-link">NPM</a></nav><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>SQL Storage Adapter - v0.2.0</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
