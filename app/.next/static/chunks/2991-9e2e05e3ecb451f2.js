"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2991],{2991:(e,r,t)=>{t.d(r,{$7:()=>E,DN:()=>X,Do:()=>V,Du:()=>P,E0:()=>F,Ef:()=>Q,Hp:()=>G,JP:()=>L,My:()=>Z,Ne:()=>C,PU:()=>K,Px:()=>j,RD:()=>et,XJ:()=>B,Y5:()=>z,ZT:()=>U,b8:()=>_,buildClaimRewardsIx:()=>eu,dJ:()=>v,ep:()=>eo,ev:()=>er,gR:()=>ei,gj:()=>q,he:()=>en,iU:()=>$,m0:()=>J,mD:()=>Y,pd:()=>T,q$:()=>O,qF:()=>ea,qR:()=>A,t1:()=>D,uj:()=>o,vA:()=>R,xD:()=>ee,xY:()=>x,zQ:()=>M});var n=t(7510),i=t(1405),a=t(5626);let o=(()=>{try{return new i.J3(a.PF)}catch(e){return new i.J3("3Z4e2eQuUJKvoi3egBdwKYc2rdZm8XFw9UNDf99xpDJo")}})();function s(e){if(!/^[0-9a-f]+$/i.test(e)||e.length%2!=0)throw Error("Invalid hex string (len=".concat(e.length,")."));let r=new Uint8Array(e.length/2);for(let t=0;t<r.length;t++)r[t]=Number.parseInt(e.slice(2*t,2*t+2),16);return r}function u(e){let r=new Uint8Array(e.reduce((e,r)=>e+r.length,0)),t=0;for(let n of e)r.set(n,t),t+=n.length;return r}function l(e){let r=new Uint8Array(8);return new DataView(r.buffer).setBigUint64(0,e,!0),r}function d(e){let r=new Uint8Array(2);return new DataView(r.buffer).setUint16(0,e,!0),r}let b=s("d4519cd3d46e151c"),f=s("cdabefe1527e60a6"),g=s("12481db6e0eb48cc"),p=s("ac5e230c0f5842db"),c=s("eeccb4606d06e240"),y=s("df3b2e65a1bd9a25"),m=s("df071e30230d0f4b"),h=s("33de8f81d1180ddf"),w=s("b422252e9c00d3ee"),S=s("b282d96e641b5277"),k=s("7ef19bf132ec5376"),I=s("af26631dbda160eb"),W=s("99f32b75db2c498d");function v(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return i.J3.findProgramAddressSync([n.hp.from("config")],e)}function P(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return i.J3.findProgramAddressSync([n.hp.from("econ")],e)}function A(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return i.J3.findProgramAddressSync([n.hp.from("owner_counter"),e.toBuffer()],r)}function E(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return i.J3.findProgramAddressSync([n.hp.from("vault"),e.toBuffer()],r)}function J(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return i.J3.findProgramAddressSync([n.hp.from("recovery"),e.toBuffer()],r)}function H(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return i.J3.findProgramAddressSync([n.hp.from("escrow"),e.toBuffer()],r)}function N(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return i.J3.findProgramAddressSync([n.hp.from("job_escrow"),e.toBuffer()],r)}function U(e){var r;let t=null!=(r=e.programId)?r:o;return i.J3.findProgramAddressSync([n.hp.from("job_bid"),e.jobPda.toBuffer(),e.bidderAgentIdentity.toBuffer()],t)}function L(e){var r;if(e.length<49)throw Error("ProgramConfig too small (".concat(e.length," bytes)."));let t=8,n=new i.J3(e.slice(t,t+32));t+=32;let a=new DataView(e.buffer,e.byteOffset,e.byteLength),o=a.getUint32(t,!0);t+=4;let s=a.getUint32(t,!0);return t+=4,{authority:n,agentCount:o,enclaveCount:s,bump:null!=(r=e[t])?r:0}}function B(e){var r;if(e.length<59)throw Error("EconomicsConfig too small (".concat(e.length," bytes)."));let t=8,n=new i.J3(e.slice(t,t+32));t+=32;let a=new DataView(e.buffer,e.byteOffset,e.byteLength),o=a.getBigUint64(t,!0);t+=8;let s=a.getUint16(t,!0);t+=2;let u=a.getBigInt64(t,!0);return t+=8,{authority:n,agentMintFeeLamports:o,maxAgentsPerWallet:s,recoveryTimelockSeconds:u,bump:null!=(r=e[t])?r:0}}function j(e){var r;if(e.length<43)throw Error("OwnerAgentCounter too small (".concat(e.length," bytes)."));let t=8,n=new i.J3(e.slice(t,t+32));t+=32;let a=new DataView(e.buffer,e.byteOffset,e.byteLength).getUint16(t,!0);return t+=2,{owner:n,mintedCount:a,bump:null!=(r=e[t])?r:0}}function x(e){var r;if(e.length<121)throw Error("AgentSignerRecovery too small (".concat(e.length," bytes)."));let t=8,n=new i.J3(e.slice(t,t+32));t+=32;let a=new i.J3(e.slice(t,t+32));t+=32;let o=new i.J3(e.slice(t,t+32));t+=32;let s=new DataView(e.buffer,e.byteOffset,e.byteLength),u=s.getBigInt64(t,!0);t+=8;let l=s.getBigInt64(t,!0);return t+=8,{agent:n,owner:a,newAgentSigner:o,requestedAt:u,readyAt:l,bump:null!=(r=e[t])?r:0}}function D(e){var r;let t=null!=(r=e.programId)?r:o;if(32!==e.agentId.length)throw Error("agentId must be 32 bytes.");if(32!==e.metadataHash.length)throw Error("metadataHash must be 32 bytes.");if(6!==e.hexacoTraits.length)throw Error("hexacoTraits must have 6 values.");let a=function(e,r){let t=new Uint8Array(32),n=new TextEncoder().encode(e);return t.set(n.subarray(0,32)),t}(e.displayName,32),s=e.hexacoTraits.map(e=>{if(!Number.isFinite(e)||e<0||e>1)throw Error("HEXACO traits must be 0.0â€“1.0");return Math.round(1e3*e)}),[l]=v(t),[f]=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return i.J3.findProgramAddressSync([n.hp.from("treasury")],e)}(t),[g]=P(t),[p]=A(e.owner,t),[c]=function(e){var r;let t=null!=(r=e.programId)?r:o;if(32!==e.agentId.length)throw Error("agentId must be 32 bytes.");return i.J3.findProgramAddressSync([n.hp.from("agent"),e.owner.toBuffer(),n.hp.from(e.agentId)],t)}({owner:e.owner,agentId:e.agentId,programId:t}),[y]=E(c,t),m=u([b,e.agentId,a,...s.map(d),e.metadataHash,e.agentSigner.toBytes()]),h=new i.fH({programId:t,keys:[{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:e.owner,isSigner:!0,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:i.yq.programId,isSigner:!1,isWritable:!1}],data:n.hp.from(m)});return{agentIdentity:c,vault:y,instruction:h}}function _(e){var r;let t=null!=(r=e.programId)?r:o;return new i.fH({programId:t,keys:[{pubkey:e.agentIdentity,isSigner:!1,isWritable:!0},{pubkey:e.owner,isSigner:!0,isWritable:!1}],data:n.hp.from(f)})}function O(e){var r;let t=null!=(r=e.programId)?r:o,[a]=P(t),[s]=J(e.agentIdentity,t),l=u([g,e.newAgentSigner.toBytes()]),d=new i.fH({programId:t,keys:[{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:e.agentIdentity,isSigner:!1,isWritable:!1},{pubkey:e.owner,isSigner:!0,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:i.yq.programId,isSigner:!1,isWritable:!1}],data:n.hp.from(l)});return{recovery:s,instruction:d}}function q(e){var r;let t=null!=(r=e.programId)?r:o,[a]=J(e.agentIdentity,t),s=new i.fH({programId:t,keys:[{pubkey:e.agentIdentity,isSigner:!1,isWritable:!0},{pubkey:e.owner,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0}],data:n.hp.from(p)});return{recovery:a,instruction:s}}function R(e){var r;let t=null!=(r=e.programId)?r:o,[a]=J(e.agentIdentity,t),s=new i.fH({programId:t,keys:[{pubkey:e.agentIdentity,isSigner:!1,isWritable:!1},{pubkey:e.owner,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0}],data:n.hp.from(c)});return{recovery:a,instruction:s}}function C(e){var r;let t=null!=(r=e.programId)?r:o;if(32!==e.contentHash.length)throw Error("contentHash must be 32 bytes.");if(e.amountLamports<=0n)throw Error("amountLamports must be > 0.");let[a]=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return i.J3.findProgramAddressSync([n.hp.from("rate_limit"),e.toBuffer()],r)}(e.tipper,t),[s]=function(e){var r;let t=null!=(r=e.programId)?r:o;return i.J3.findProgramAddressSync([n.hp.from("tip"),e.tipper.toBuffer(),n.hp.from(l(e.tipNonce))],t)}({tipper:e.tipper,tipNonce:e.tipNonce,programId:t}),[d]=H(s,t),b=u([y,e.contentHash,l(e.amountLamports),new Uint8Array([+("url"===e.sourceType)]),l(e.tipNonce)]),f=new i.fH({programId:t,keys:[{pubkey:e.tipper,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:e.targetEnclave,isSigner:!1,isWritable:!1},{pubkey:i.yq.programId,isSigner:!1,isWritable:!1}],data:n.hp.from(b)});return{tip:s,escrow:d,instruction:f}}function T(e){var r;let t=null!=(r=e.programId)?r:o,[a]=H(e.tip,t),s=new i.fH({programId:t,keys:[{pubkey:e.tipper,isSigner:!0,isWritable:!0},{pubkey:e.tip,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i.yq.programId,isSigner:!1,isWritable:!1}],data:n.hp.from(m)});return{escrow:a,instruction:s}}function V(e){var r,t;let a=null!=(r=e.programId)?r:o;if(e.amountLamports<=0n)throw Error("amountLamports must be > 0.");let s=null!=(t=e.contextHash)?t:new Uint8Array(32);if(32!==s.length)throw Error("contextHash must be 32 bytes.");let[d]=E(e.agentIdentity,a),[b]=function(e){var r;let t=null!=(r=e.programId)?r:o;return i.J3.findProgramAddressSync([n.hp.from("donation"),e.donor.toBuffer(),e.agentIdentity.toBuffer(),n.hp.from(l(e.donationNonce))],t)}({donor:e.donor,agentIdentity:e.agentIdentity,donationNonce:e.donationNonce,programId:a}),f=u([h,l(e.amountLamports),s,l(e.donationNonce)]),g=new i.fH({programId:a,keys:[{pubkey:e.donor,isSigner:!0,isWritable:!0},{pubkey:e.agentIdentity,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:i.yq.programId,isSigner:!1,isWritable:!1}],data:n.hp.from(f)});return{vault:d,receipt:b,instruction:g}}function F(e){var r;let t=null!=(r=e.programId)?r:o;if(e.lamports<=0n)throw Error("lamports must be > 0.");let[a]=E(e.agentIdentity,t),s=u([w,l(e.lamports)]),d=new i.fH({programId:t,keys:[{pubkey:e.agentIdentity,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:e.owner,isSigner:!0,isWritable:!0}],data:n.hp.from(s)});return{vault:a,instruction:d}}function $(e){return Number(e)/1e9}async function X(e){let r=new TextEncoder().encode(e);return new Uint8Array(await crypto.subtle.digest("SHA-256",r))}function Y(e){try{let r=JSON.parse(e);return JSON.stringify(function e(r){if(Array.isArray(r))return r.map(e);if(r&&"object"==typeof r){let t={};for(let n of Object.keys(r).sort())t[n]=e(r[n]);return t}return r}(r))}catch(r){return e}}function Z(e){return Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("")}function K(e){return JSON.stringify({v:1,intent:"wunderland_store_confidential_details",jobPda:e.jobPda,detailsHash:e.detailsHashHex})}function M(e){return JSON.stringify({v:1,intent:"wunderland_update_job_metadata",jobPda:e.jobPda,metadataHash:e.metadataHashHex})}function Q(e){let r=e.trim().toLowerCase();if(!/^[0-9a-f]{64}$/.test(r))throw Error("Expected 32-byte hex (64 chars).");return s(r)}function z(){return BigInt(Date.now())}function G(){let e=new Uint8Array(32);return crypto.getRandomValues(e),e}function ee(e,r){let t=new Blob([JSON.stringify(r)],{type:"application/json"}),n=URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download=e,document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(n)}function er(e){return Array.from(e)}function et(e){var r;let t=null!=(r=e.programId)?r:o;if(32!==e.metadataHash.length)throw Error("metadataHash must be 32 bytes.");if(e.budgetLamports<=0n)throw Error("budgetLamports must be > 0.");if(void 0!==e.buyItNowLamports&&e.buyItNowLamports<=e.budgetLamports)throw Error("buyItNowLamports must be greater than budgetLamports.");let[a]=function(e){var r;let t=null!=(r=e.programId)?r:o;return i.J3.findProgramAddressSync([n.hp.from("job"),e.creator.toBuffer(),n.hp.from(l(e.jobNonce))],t)}({creator:e.creator,jobNonce:e.jobNonce,programId:t}),[s]=N(a,t),d=void 0!==e.buyItNowLamports?u([new Uint8Array([1]),l(e.buyItNowLamports)]):new Uint8Array([0]),b=u([S,l(e.jobNonce),e.metadataHash,l(e.budgetLamports),d]),f=new i.fH({programId:t,keys:[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:e.creator,isSigner:!0,isWritable:!0},{pubkey:i.yq.programId,isSigner:!1,isWritable:!1}],data:n.hp.from(b)});return{jobPda:a,escrowPda:s,instruction:f}}function en(e){var r;let t=null!=(r=e.programId)?r:o,[a]=N(e.jobPda,t);return new i.fH({programId:t,keys:[{pubkey:e.jobPda,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:e.creator,isSigner:!0,isWritable:!0},{pubkey:i.yq.programId,isSigner:!1,isWritable:!1}],data:n.hp.from(k)})}function ei(e){var r;let t=null!=(r=e.programId)?r:o,[a]=N(e.jobPda,t);return new i.fH({programId:t,keys:[{pubkey:e.jobPda,isSigner:!1,isWritable:!0},{pubkey:e.bidPda,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:e.creator,isSigner:!0,isWritable:!0}],data:n.hp.from(I)})}function ea(e){var r;let t=null!=(r=e.programId)?r:o,[a]=N(e.jobPda,t);return new i.fH({programId:t,keys:[{pubkey:e.jobPda,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:e.submissionPda,isSigner:!1,isWritable:!1},{pubkey:e.acceptedBidPda,isSigner:!1,isWritable:!1},{pubkey:e.vaultPda,isSigner:!1,isWritable:!0},{pubkey:e.creator,isSigner:!0,isWritable:!0},{pubkey:i.yq.programId,isSigner:!1,isWritable:!1}],data:n.hp.from(W)})}function eo(){return BigInt(Date.now())}let es=s("0490844774179750");function eu(e){var r;let t=null!=(r=e.programId)?r:o,[a]=function(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,a=n.hp.alloc(4);return a.writeUInt32LE(r),i.J3.findProgramAddressSync([n.hp.from("rewards_claim"),e.toBuffer(),a],t)}(e.rewardsEpochPda,e.index,t),[s]=E(e.agentIdentityPda,t),u=n.hp.alloc(4);u.writeUInt32LE(e.index);let l=n.hp.alloc(8);l.writeBigUInt64LE(e.amount);let d=n.hp.alloc(4);d.writeUInt32LE(e.proof.length);let b=e.proof.map(e=>n.hp.from(e)),f=n.hp.concat([n.hp.from(es),u,l,d,...b]),g=[{pubkey:e.rewardsEpochPda,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:e.agentIdentityPda,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:i.yq.programId,isSigner:!1,isWritable:!1}];return{instruction:new i.fH({keys:g,programId:t,data:f}),claimReceiptPda:a,vaultPda:s}}s("1011ad61fbecefdc"),s("b8185b71a35c6690"),s("14d40fbd45b44597"),s("d787d4a97c0e2171"),s("123e6e081a6af897"),s("d99a41613aac327d"),s("836d8215035071ce"),s("fa81a184fea1226b"),s("d07f1501c2bec446"),s("b8221fc8b3c17f30"),s("014be500ee42f633"),s("483e10dec67a0ef1"),s("19525833c4d2c227"),s("3c307f5430c258a5"),s("a9f483bf0e7c882d"),s("eb099ec852844d21"),s("c250fdb543fd89b5"),s("42a205ff3f7000f3"),s("5b121230bad38aab"),s("283f7a9e90d85360"),new i.J3("Sysvar1nstructions1111111111111111111111111"),new i.J3("BPFLoaderUpgradeab1e11111111111111111111111")}}]);