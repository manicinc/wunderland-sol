(()=>{var a={};a.id=9346,a.ids=[9346],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73014:()=>{},84638:()=>{},85797:(a,b,c)=>{"use strict";c.r(b),c.d(b,{handler:()=>J,patchFetch:()=>I,routeModule:()=>E,serverHooks:()=>H,workAsyncStorage:()=>F,workUnitAsyncStorage:()=>G});var d={};c.r(d),c.d(d,{POST:()=>D,runtime:()=>z});var e=c(11171),f=c(91132),g=c(85747),h=c(94619),i=c(17853),j=c(261),k=c(42223),l=c(52801),m=c(33947),n=c(99448),o=c(71350),p=c(47372),q=c(44582),r=c(70003),s=c(86439),t=c(7937),u=c(34674);let v=[{name:"web-search",displayName:"Web Search",description:"Search the web for up-to-date information, news, documentation, and answers.",category:"information",tags:["search","web","research","news"],requiredSecrets:[],requiredTools:["web-search"],skillPath:"registry/curated/web-search/SKILL.md"},{name:"weather",displayName:"Weather Lookup",description:"Look up current weather conditions, forecasts, and severe weather alerts for any location.",category:"information",tags:["weather","forecast","location"],requiredSecrets:[],requiredTools:["web-search"],skillPath:"registry/curated/weather/SKILL.md"},{name:"summarize",displayName:"Text / URL Summarization",description:"Summarize text content, web pages, and long-form articles into concise summaries.",category:"information",tags:["summarization","text-processing","tldr"],requiredSecrets:[],requiredTools:["web-search"],skillPath:"registry/curated/summarize/SKILL.md"},{name:"github",displayName:"GitHub (gh CLI)",description:"Manage GitHub repositories, issues, pull requests, releases, and Actions workflows.",category:"developer-tools",tags:["github","git","issues","pull-requests","ci-cd"],requiredSecrets:["github.token"],requiredTools:[],skillPath:"registry/curated/github/SKILL.md"},{name:"coding-agent",displayName:"Coding Agent",description:"Write, review, debug, refactor, and explain code across multiple languages and frameworks.",category:"developer-tools",tags:["coding","programming","debugging","refactoring"],requiredSecrets:[],requiredTools:["filesystem"],skillPath:"registry/curated/coding-agent/SKILL.md"},{name:"git",displayName:"Git",description:"Work with Git repositories — inspect history, create branches, commit changes, resolve conflicts.",category:"developer-tools",tags:["git","version-control","branching","commits"],requiredSecrets:[],requiredTools:[],skillPath:"registry/curated/git/SKILL.md"},{name:"slack-helper",displayName:"Slack Helper",description:"Manage Slack workspaces, channels, messages, and integrations through the Slack API.",category:"communication",tags:["slack","messaging","workspace","notifications"],requiredSecrets:["slack.bot_token","slack.app_token"],requiredTools:[],skillPath:"registry/curated/slack-helper/SKILL.md"},{name:"discord-helper",displayName:"Discord Helper",description:"Manage Discord servers, channels, roles, and messages through the Discord API.",category:"communication",tags:["discord","messaging","server","moderation"],requiredSecrets:["discord.bot_token"],requiredTools:[],skillPath:"registry/curated/discord-helper/SKILL.md"},{name:"notion",displayName:"Notion",description:"Read, create, and manage pages, databases, and content blocks in Notion workspaces.",category:"productivity",tags:["notion","wiki","database","notes","project-management"],requiredSecrets:["notion.api_key"],requiredTools:[],skillPath:"registry/curated/notion/SKILL.md"},{name:"obsidian",displayName:"Obsidian Vault",description:"Read, create, and manage notes, links, and metadata in Obsidian vaults.",category:"productivity",tags:["obsidian","markdown","notes","knowledge-graph"],requiredSecrets:[],requiredTools:["filesystem"],skillPath:"registry/curated/obsidian/SKILL.md"},{name:"trello",displayName:"Trello",description:"Manage Trello boards, lists, cards, checklists, and team workflows via the Trello API.",category:"productivity",tags:["trello","kanban","project-management","boards"],requiredSecrets:["trello.api_key","trello.token"],requiredTools:[],skillPath:"registry/curated/trello/SKILL.md"},{name:"apple-notes",displayName:"Apple Notes",description:"Create, read, search, and manage notes in Apple Notes using AppleScript.",category:"productivity",tags:["apple-notes","macos","notes","applescript"],requiredSecrets:[],requiredTools:["filesystem"],skillPath:"registry/curated/apple-notes/SKILL.md"},{name:"apple-reminders",displayName:"Apple Reminders",description:"Create, manage, and query reminders and lists in Apple Reminders using AppleScript.",category:"productivity",tags:["apple-reminders","macos","reminders","tasks"],requiredSecrets:[],requiredTools:["filesystem"],skillPath:"registry/curated/apple-reminders/SKILL.md"},{name:"healthcheck",displayName:"Health Check Monitor",description:"Monitor health and availability of systems, services, APIs, and infrastructure endpoints.",category:"devops",tags:["monitoring","health","uptime","infrastructure"],requiredSecrets:[],requiredTools:["web-search"],skillPath:"registry/curated/healthcheck/SKILL.md"},{name:"spotify-player",displayName:"Spotify Player",description:"Control Spotify playback, manage playlists, search music, and get recommendations.",category:"media",tags:["spotify","music","playback","playlists"],requiredSecrets:["spotify.client_id","spotify.client_secret","spotify.refresh_token"],requiredTools:[],skillPath:"registry/curated/spotify-player/SKILL.md"},{name:"whisper-transcribe",displayName:"Whisper Transcription",description:"Transcribe audio and video files to text using OpenAI Whisper or compatible APIs.",category:"media",tags:["transcription","whisper","speech-to-text","audio"],requiredSecrets:["openai.api_key"],requiredTools:["filesystem"],skillPath:"registry/curated/whisper-transcribe/SKILL.md"},{name:"1password",displayName:"1Password Vault",description:"Query and retrieve items from 1Password vaults using the 1Password CLI.",category:"security",tags:["1password","passwords","secrets","vault"],requiredSecrets:[],requiredTools:[],skillPath:"registry/curated/1password/SKILL.md"},{name:"image-gen",displayName:"AI Image Generation",description:"Generate images from text prompts using DALL-E, Stable Diffusion, or Midjourney.",category:"creative",tags:["image-generation","ai-art","dall-e","creative"],requiredSecrets:["openai.api_key"],requiredTools:[],skillPath:"registry/curated/image-gen/SKILL.md"}],w=[{platform:"telegram",displayName:"Telegram",description:"Telegram Bot API via grammY — text, images, inline keyboards, groups.",sdkPackage:"grammy",requiredSecrets:["telegram.botToken"],tier:"P0",packageName:"@framers/agentos-ext-channel-telegram"},{platform:"whatsapp",displayName:"WhatsApp",description:"WhatsApp Web bridge via Baileys — text, images, documents, voice notes.",sdkPackage:"@whiskeysockets/baileys",requiredSecrets:["whatsapp.sessionData"],tier:"P0",packageName:"@framers/agentos-ext-channel-whatsapp"},{platform:"discord",displayName:"Discord",description:"Discord bot via discord.js — text, embeds, threads, reactions, buttons.",sdkPackage:"discord.js",requiredSecrets:["discord.botToken"],tier:"P0",packageName:"@framers/agentos-ext-channel-discord"},{platform:"slack",displayName:"Slack",description:"Slack workspace integration via Bolt — text, blocks, threads, reactions.",sdkPackage:"@slack/bolt",requiredSecrets:["slack.botToken","slack.appToken"],tier:"P0",packageName:"@framers/agentos-ext-channel-slack"},{platform:"webchat",displayName:"WebChat",description:"Browser-based chat widget via Socket.IO — embeds in any website.",sdkPackage:"socket.io",requiredSecrets:[],tier:"P0",packageName:"@framers/agentos-ext-channel-webchat"},{platform:"signal",displayName:"Signal",description:"Signal messenger via signal-cli — end-to-end encrypted messaging.",sdkPackage:"signal-cli",requiredSecrets:["signal.phoneNumber"],tier:"P1",packageName:"@framers/agentos-ext-channel-signal"},{platform:"imessage",displayName:"iMessage",description:"iMessage bridge via BlueBubbles — macOS server required.",sdkPackage:"bluebubbles-node",requiredSecrets:["imessage.serverUrl","imessage.password"],tier:"P1",packageName:"@framers/agentos-ext-channel-imessage"},{platform:"google-chat",displayName:"Google Chat",description:"Google Workspace Chat via Cloud API — supports cards and threads.",sdkPackage:"@google-cloud/chat",requiredSecrets:["googlechat.serviceAccount"],tier:"P1",packageName:"@framers/agentos-ext-channel-google-chat"},{platform:"teams",displayName:"Microsoft Teams",description:"Microsoft Teams bot via Teams AI library — supports adaptive cards.",sdkPackage:"@microsoft/teams-ai",requiredSecrets:["teams.appId","teams.appPassword"],tier:"P1",packageName:"@framers/agentos-ext-channel-teams"},{platform:"matrix",displayName:"Matrix",description:"Matrix/Element via matrix-js-sdk — decentralized, federated messaging.",sdkPackage:"matrix-js-sdk",requiredSecrets:["matrix.homeserverUrl","matrix.accessToken"],tier:"P2",packageName:"@framers/agentos-ext-channel-matrix"},{platform:"zalo",displayName:"Zalo",description:"Zalo Official Account API — popular in Vietnam.",sdkPackage:"zalo-api",requiredSecrets:["zalo.appId","zalo.secretKey"],tier:"P2",packageName:"@framers/agentos-ext-channel-zalo"},{platform:"email",displayName:"Email",description:"Email messaging via nodemailer (SMTP) + imap-simple (IMAP).",sdkPackage:"nodemailer",requiredSecrets:["email.smtpHost","email.smtpUser","email.smtpPassword"],tier:"P2",packageName:"@framers/agentos-ext-channel-email"},{platform:"sms",displayName:"SMS",description:"SMS messaging via Twilio — text-only, worldwide reach.",sdkPackage:"twilio",requiredSecrets:["twilio.accountSid","twilio.authToken","twilio.phoneNumber"],tier:"P2",packageName:"@framers/agentos-ext-channel-sms"},{platform:"nostr",displayName:"Nostr",description:"Nostr relay messaging via nostr-tools — decentralized, censorship-resistant.",sdkPackage:"nostr-tools",requiredSecrets:["nostr.privateKey"],tier:"P3",packageName:"@framers/agentos-ext-channel-nostr"},{platform:"twitch",displayName:"Twitch",description:"Twitch IRC chat via tmi.js — chat messages, commands, whispers.",sdkPackage:"tmi.js",requiredSecrets:["twitch.oauthToken","twitch.channel"],tier:"P3",packageName:"@framers/agentos-ext-channel-twitch"},{platform:"line",displayName:"LINE",description:"LINE Messaging API — text, images, flex messages, rich menus.",sdkPackage:"@line/bot-sdk",requiredSecrets:["line.channelAccessToken","line.channelSecret"],tier:"P3",packageName:"@framers/agentos-ext-channel-line"},{platform:"feishu",displayName:"Feishu / Lark",description:"Feishu (Lark) bot via official SDK — text, cards, interactive messages.",sdkPackage:"@larksuiteoapi/node-sdk",requiredSecrets:["feishu.appId","feishu.appSecret"],tier:"P3",packageName:"@framers/agentos-ext-channel-feishu"},{platform:"mattermost",displayName:"Mattermost",description:"Mattermost self-hosted chat via official client — text, threads, reactions.",sdkPackage:"@mattermost/client",requiredSecrets:["mattermost.url","mattermost.token"],tier:"P3",packageName:"@framers/agentos-ext-channel-mattermost"},{platform:"nextcloud-talk",displayName:"Nextcloud Talk",description:"Nextcloud Talk integration via REST API — self-hosted video/chat.",sdkPackage:"nextcloud-talk-api",requiredSecrets:["nextcloud.url","nextcloud.token"],tier:"P3",packageName:"@framers/agentos-ext-channel-nextcloud-talk"},{platform:"tlon",displayName:"Tlon (Urbit)",description:"Tlon/Urbit messaging via HTTP API — decentralized, sovereign identity.",sdkPackage:"@urbit/http-api",requiredSecrets:["tlon.shipUrl","tlon.code"],tier:"P3",packageName:"@framers/agentos-ext-channel-tlon"}],x=[{name:"auth",displayName:"Authentication",description:"User authentication and session management tools.",category:"tool",requiredSecrets:[],packageName:"@framers/agentos-ext-auth"},{name:"web-search",displayName:"Web Search",description:"Web search via Serper.dev or similar providers.",category:"tool",requiredSecrets:["serper.apiKey"],packageName:"@framers/agentos-ext-web-search"},{name:"web-browser",displayName:"Web Browser",description:"Headless browser for page fetching and scraping.",category:"tool",requiredSecrets:[],packageName:"@framers/agentos-ext-web-browser"},{name:"cli-executor",displayName:"CLI Executor",description:"Execute shell commands in a sandboxed environment.",category:"tool",requiredSecrets:[],packageName:"@framers/agentos-ext-cli-executor"},{name:"giphy",displayName:"Giphy",description:"Search and share GIFs via the Giphy API.",category:"tool",requiredSecrets:[],packageName:"@framers/agentos-ext-giphy"},{name:"image-search",displayName:"Image Search",description:"Search for images via web APIs.",category:"tool",requiredSecrets:[],packageName:"@framers/agentos-ext-image-search"},{name:"voice-synthesis",displayName:"Voice Synthesis",description:"Text-to-speech synthesis via ElevenLabs or similar.",category:"tool",requiredSecrets:[],packageName:"@framers/agentos-ext-voice-synthesis"},{name:"news-search",displayName:"News Search",description:"Search recent news articles.",category:"tool",requiredSecrets:[],packageName:"@framers/agentos-ext-news-search"},{name:"skills",displayName:"Skills Registry",description:"Discover and enable curated SKILL.md prompt modules.",category:"tool",requiredSecrets:[],packageName:"@framers/agentos-ext-skills"},{name:"voice-twilio",displayName:"Twilio Voice",description:"Phone call integration via Twilio — outbound/inbound calls, TwiML, media streams.",category:"voice",requiredSecrets:["twilio.accountSid","twilio.authToken"],packageName:"@framers/agentos-ext-voice-twilio"},{name:"voice-telnyx",displayName:"Telnyx Voice",description:"Phone call integration via Telnyx Call Control v2 — SIP, FQDN routing.",category:"voice",requiredSecrets:["telnyx.apiKey","telnyx.connectionId"],packageName:"@framers/agentos-ext-voice-telnyx"},{name:"voice-plivo",displayName:"Plivo Voice",description:"Phone call integration via Plivo Voice API — outbound calls, XML responses.",category:"voice",requiredSecrets:["plivo.authId","plivo.authToken"],packageName:"@framers/agentos-ext-voice-plivo"},{name:"calendar-google",displayName:"Google Calendar",description:"Google Calendar API — event CRUD, free/busy queries, multi-calendar support.",category:"productivity",requiredSecrets:["google.clientId","google.clientSecret","google.refreshToken"],packageName:"@framers/agentos-ext-calendar-google"},{name:"email-gmail",displayName:"Gmail",description:"Gmail API — send, read, search, reply to emails, manage labels.",category:"productivity",requiredSecrets:["google.clientId","google.clientSecret","google.refreshToken"],packageName:"@framers/agentos-ext-email-gmail"}],y=[{id:"customer-support",name:"Customer Support",category:"role",description:"Patient, empathetic support specialist",traits:{honestyHumility:.8,emotionality:.7,extraversion:.6,agreeableness:.95,conscientiousness:.85,openness:.5},suggestedSkills:["healthcheck"],suggestedChannels:["webchat","telegram","whatsapp","discord"]},{id:"research-assistant",name:"Research Assistant",category:"role",description:"Thorough researcher with analytical focus",traits:{honestyHumility:.9,emotionality:.3,extraversion:.4,agreeableness:.7,conscientiousness:.95,openness:.85},suggestedSkills:["web-search","summarize","github"],suggestedChannels:["webchat","slack"]},{id:"code-reviewer",name:"Code Reviewer",category:"role",description:"Precise, detail-oriented code analyst",traits:{honestyHumility:.95,emotionality:.2,extraversion:.3,agreeableness:.5,conscientiousness:.98,openness:.7},suggestedSkills:["coding-agent","github"],suggestedChannels:["webchat","slack","discord"]},{id:"personal-assistant",name:"Personal Assistant",category:"role",description:"Friendly, organized daily helper",traits:{honestyHumility:.8,emotionality:.6,extraversion:.75,agreeableness:.85,conscientiousness:.8,openness:.7},suggestedSkills:["weather","apple-notes","apple-reminders","summarize"],suggestedChannels:["telegram","whatsapp","webchat"]},{id:"data-analyst",name:"Data Analyst",category:"role",description:"Systematic data interpreter and visualizer",traits:{honestyHumility:.9,emotionality:.2,extraversion:.4,agreeableness:.6,conscientiousness:.9,openness:.8},suggestedSkills:["summarize","coding-agent"],suggestedChannels:["webchat","slack"]},{id:"devops-assistant",name:"DevOps Assistant",category:"role",description:"Infrastructure and deployment specialist",traits:{honestyHumility:.85,emotionality:.2,extraversion:.5,agreeableness:.6,conscientiousness:.9,openness:.75},suggestedSkills:["healthcheck","coding-agent","github"],suggestedChannels:["slack","discord","webchat"]},{id:"creative-writer",name:"Creative Writer",category:"role",description:"Imaginative storyteller and content creator",traits:{honestyHumility:.7,emotionality:.8,extraversion:.7,agreeableness:.6,conscientiousness:.5,openness:.98},suggestedSkills:["summarize","image-gen"],suggestedChannels:["webchat"]},{id:"security-auditor",name:"Security Auditor",category:"role",description:"Vigilant security-focused analyst",traits:{honestyHumility:.98,emotionality:.15,extraversion:.25,agreeableness:.3,conscientiousness:.99,openness:.6},suggestedSkills:["coding-agent","github","healthcheck"],suggestedChannels:["webchat"]},{id:"helpful-assistant",name:"Helpful Assistant",category:"personality",description:"Balanced, agreeable all-rounder",traits:{honestyHumility:.85,emotionality:.45,extraversion:.7,agreeableness:.9,conscientiousness:.85,openness:.6},suggestedSkills:["web-search","summarize"],suggestedChannels:["webchat","telegram"]},{id:"creative-thinker",name:"Creative Thinker",category:"personality",description:"Imaginative and unconventional",traits:{honestyHumility:.7,emotionality:.55,extraversion:.65,agreeableness:.6,conscientiousness:.5,openness:.95},suggestedSkills:["summarize","image-gen"],suggestedChannels:["webchat"]},{id:"analytical-researcher",name:"Analytical Researcher",category:"personality",description:"Methodical and data-driven",traits:{honestyHumility:.8,emotionality:.3,extraversion:.4,agreeableness:.55,conscientiousness:.9,openness:.85},suggestedSkills:["web-search","summarize","coding-agent"],suggestedChannels:["webchat","slack"]},{id:"empathetic-counselor",name:"Empathetic Counselor",category:"personality",description:"Warm, emotionally attuned guide",traits:{honestyHumility:.75,emotionality:.85,extraversion:.6,agreeableness:.9,conscientiousness:.65,openness:.7},suggestedSkills:["summarize"],suggestedChannels:["webchat","telegram"]},{id:"decisive-executor",name:"Decisive Executor",category:"personality",description:"Bold, action-oriented leader",traits:{honestyHumility:.6,emotionality:.25,extraversion:.85,agreeableness:.45,conscientiousness:.8,openness:.5},suggestedSkills:["web-search","healthcheck"],suggestedChannels:["webchat","slack","discord"]}],z="nodejs";function A(a){return a.toLowerCase().replace(/\s+/g," ").trim()}function B(a,b){return b.some(b=>a.includes(b))}function C(a,b){var c;let d=`${b.category}:${b.itemId}`,e=a.get(d),f={id:b.id??d,category:b.category,itemId:b.itemId,displayName:b.displayName,reasoning:b.reasoning,confidence:Number.isNaN(c=b.confidence)||!Number.isFinite(c)?0:Math.max(0,Math.min(1,c)),accepted:!!b.accepted};if(!e||f.confidence>e.confidence)return void a.set(d,f);1e-6>Math.abs(f.confidence-e.confidence)&&f.reasoning&&!e.reasoning.includes(f.reasoning)&&a.set(d,{...e,reasoning:`${e.reasoning} ${f.reasoning}`.trim()})}async function D(a){let b="";try{let c=await a.json();b="string"==typeof c?.description?c.description:""}catch{}let c=b.trim();if(c.length<10)return u.NextResponse.json({error:"Description must be at least 10 characters."},{status:400});let d=A(c),e=function(a){for(let b of[{id:"security-auditor",keywords:["security","audit","vulnerability","exploit","threat","pentest","compliance"]},{id:"devops-assistant",keywords:["devops","kubernetes","docker","terraform","ci","cd","deploy","infrastructure","uptime","monitoring"]},{id:"code-reviewer",keywords:["code review","pull request","pr ","refactor","debug","bug","typescript","javascript","node","python","rust","repo","github"]},{id:"research-assistant",keywords:["research","paper","papers","academic","arxiv","literature","citation","citations","journal","study","thesis"]},{id:"data-analyst",keywords:["data","dataset","analytics","analysis","sql","metrics","dashboard","charts","visualization"]},{id:"customer-support",keywords:["support","helpdesk","customer","ticket","tickets","troubleshoot","faq"]},{id:"personal-assistant",keywords:["personal assistant","calendar","schedule","reminder","reminders","tasks","email"]},{id:"creative-writer",keywords:["write","writer","story","blog","copywriting","script","poem","creative writing"]},{id:"creative-thinker",keywords:["brainstorm","ideate","creative","invent","innovate"]},{id:"helpful-assistant",keywords:["assistant","helpful","friendly"]}])if(B(a,b.keywords))return b.id;return"helpful-assistant"}(d),f=function(a){let b={honestyHumility:.7,emotionality:.5,extraversion:.6,agreeableness:.7,conscientiousness:.6,openness:.7},c=[];for(let d of(B(a,["empathetic","kind","patient","support","counsel","therapy"])&&(b.agreeableness+=.2,b.emotionality+=.15,c.push("Emphasis on empathy/support → higher Agreeableness & Emotionality.")),B(a,["security","audit","strict","compliance","policy","safe"])&&(b.honestyHumility+=.2,b.conscientiousness+=.2,b.emotionality-=.1,c.push("Security/rigor → higher Honesty-Humility & Conscientiousness, lower Emotionality.")),B(a,["research","analysis","analytical","papers","citations","data"])&&(b.conscientiousness+=.15,b.openness+=.1,b.emotionality-=.05,c.push("Research/analysis → higher Conscientiousness & Openness.")),B(a,["creative","story","writer","brainstorm","poem","art"])&&(b.openness+=.25,b.emotionality+=.05,c.push("Creativity → higher Openness.")),B(a,["community","social","engage","outreach","sales","chatty"])&&(b.extraversion+=.2,c.push("High interaction → higher Extraversion.")),Object.keys(b)))b[d]=Math.max(.05,Math.min(.98,b[d]));return{traits:b,reasoning:c.length>0?c.join(" "):"Balanced HEXACO defaults based on a general-purpose assistant."}}(d),g=function(a,b){let c=y.find(a=>a.id===b)??null,d=c?.name??"New Agent",e=a.length>0?a.slice(0,180):null,f=a.length>0?`You are ${d}. Your mission: ${a}`:`You are ${d}.`;return{displayName:d,bio:e,systemPrompt:f}}(c,e),h=function(a,b){let c=new Map,d=new Map(v.map(a=>[a.name,a])),e=new Map(w.map(a=>[a.platform,a])),f=new Map(x.map(a=>[a.name,a])),g=y.find(a=>a.id===b)??null;if(g){for(let a of g.suggestedSkills){let b=d.get(a);C(c,{category:"skill",itemId:a,displayName:b?.displayName??a,reasoning:`Fits preset "${g.name}".`,confidence:.72,accepted:!1})}for(let a of g.suggestedChannels){let b=e.get(a);C(c,{category:"channel",itemId:a,displayName:b?.displayName??a,reasoning:`Fits preset "${g.name}".`,confidence:.7,accepted:!1})}}for(let b of w){let d=A(b.platform),e=A(b.displayName);(a.includes(d)||e&&a.includes(e))&&C(c,{category:"channel",itemId:b.platform,displayName:b.displayName,reasoning:`You mentioned ${b.displayName}.`,confidence:.92,accepted:!1})}let h=B(a,["research","paper","papers","academic","arxiv","citations","literature","news","sources"]),i=B(a,["code","coding","refactor","debug","review","typescript","javascript","python","rust","repo","github"]),j=B(a,["deploy","infrastructure","uptime","monitor","health","devops","kubernetes","docker","terraform"]),k=B(a,["notes","notion","obsidian","trello","reminder","calendar","tasks"]),l=B(a,["voice","call","phone"]);return h&&(d.get("web-search")&&C(c,{category:"skill",itemId:"web-search",displayName:d.get("web-search").displayName,reasoning:"Matches research/news intent.",confidence:.9}),d.get("summarize")&&C(c,{category:"skill",itemId:"summarize",displayName:d.get("summarize").displayName,reasoning:"Useful for turning sources into concise briefs.",confidence:.84}),f.get("news-search")&&C(c,{category:"tool",itemId:"news-search",displayName:f.get("news-search").displayName,reasoning:"Directly targets recent news sources.",confidence:.76})),i&&(d.get("coding-agent")&&C(c,{category:"skill",itemId:"coding-agent",displayName:d.get("coding-agent").displayName,reasoning:"Matches coding/debugging intent.",confidence:.9}),d.get("github")&&C(c,{category:"skill",itemId:"github",displayName:d.get("github").displayName,reasoning:"Matches repo/PR workflows.",confidence:.78})),j&&d.get("healthcheck")&&C(c,{category:"skill",itemId:"healthcheck",displayName:d.get("healthcheck").displayName,reasoning:"Matches monitoring/ops intent.",confidence:.76}),k&&(a.includes("notion")&&d.get("notion")&&C(c,{category:"skill",itemId:"notion",displayName:d.get("notion").displayName,reasoning:"You mentioned Notion.",confidence:.82}),a.includes("obsidian")&&d.get("obsidian")&&C(c,{category:"skill",itemId:"obsidian",displayName:d.get("obsidian").displayName,reasoning:"You mentioned Obsidian.",confidence:.8}),a.includes("trello")&&d.get("trello")&&C(c,{category:"skill",itemId:"trello",displayName:d.get("trello").displayName,reasoning:"You mentioned Trello.",confidence:.8}),B(a,["reminder","reminders"])&&d.get("apple-reminders")&&C(c,{category:"skill",itemId:"apple-reminders",displayName:d.get("apple-reminders").displayName,reasoning:"Matches reminders/task intent.",confidence:.74}),B(a,["notes"])&&d.get("apple-notes")&&C(c,{category:"skill",itemId:"apple-notes",displayName:d.get("apple-notes").displayName,reasoning:"Matches note-taking intent.",confidence:.72})),a.includes("weather")&&d.get("weather")&&C(c,{category:"skill",itemId:"weather",displayName:d.get("weather").displayName,reasoning:"You mentioned weather/forecasting.",confidence:.82}),l&&f.get("voice-twilio")&&C(c,{category:"tool",itemId:"voice-twilio",displayName:f.get("voice-twilio").displayName,reasoning:"Matches phone/voice call intent.",confidence:.74}),[...c.values()].sort((a,b)=>b.confidence-a.confidence||a.id.localeCompare(b.id)).slice(0,12).map(a=>({...a,accepted:!1}))}(d,e);return u.NextResponse.json({recommendations:h,suggestedPreset:e,personalitySuggestion:f,securityTierSuggestion:null,identitySuggestion:g},{status:200})}let E=new e.AppRouteRouteModule({definition:{kind:f.RouteKind.APP_ROUTE,page:"/api/voice/recommend-config/route",pathname:"/api/voice/recommend-config",filename:"route",bundlePath:"app/api/voice/recommend-config/route"},distDir:".next",relativeProjectDir:"",resolvedPagePath:"/Users/johnn/Documents/git/voice-chat-assistant/apps/wunderland-sh/app/src/app/api/voice/recommend-config/route.ts",nextConfigOutput:"standalone",userland:d}),{workAsyncStorage:F,workUnitAsyncStorage:G,serverHooks:H}=E;function I(){return(0,g.patchFetch)({workAsyncStorage:F,workUnitAsyncStorage:G})}async function J(a,b,c){var d;let e="/api/voice/recommend-config/route";"/index"===e&&(e="/");let g=await E.prepare(a,b,{srcPage:e,multiZoneDraftMode:!1});if(!g)return b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve()),null;let{buildId:u,params:v,nextConfig:w,isDraftMode:x,prerenderManifest:y,routerServerContext:z,isOnDemandRevalidate:A,revalidateOnlyGenerated:B,resolvedPathname:C}=g,D=(0,j.normalizeAppPath)(e),F=!!(y.dynamicRoutes[D]||y.routes[C]);if(F&&!x){let a=!!y.routes[C],b=y.dynamicRoutes[D];if(b&&!1===b.fallback&&!a)throw new s.NoFallbackError}let G=null;!F||E.isDev||x||(G="/index"===(G=C)?"/":G);let H=!0===E.isDev||!F,I=F&&!H,J=a.method||"GET",K=(0,i.getTracer)(),L=K.getActiveScopeSpan(),M={params:v,prerenderManifest:y,renderOpts:{experimental:{cacheComponents:!!w.experimental.cacheComponents,authInterrupts:!!w.experimental.authInterrupts},supportsDynamicResponse:H,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:null==(d=w.experimental)?void 0:d.cacheLife,isRevalidate:I,waitUntil:c.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:void 0,onInstrumentationRequestError:(b,c,d)=>E.onRequestError(a,b,d,z)},sharedContext:{buildId:u}},N=new k.NodeNextRequest(a),O=new k.NodeNextResponse(b),P=l.NextRequestAdapter.fromNodeNextRequest(N,(0,l.signalFromNodeResponse)(b));try{let d=async c=>E.handle(P,M).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=K.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==m.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${J} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${J} ${a.url}`)}),g=async g=>{var i,j;let k=async({previousCacheEntry:f})=>{try{if(!(0,h.getRequestMeta)(a,"minimalMode")&&A&&B&&!f)return b.statusCode=404,b.setHeader("x-nextjs-cache","REVALIDATED"),b.end("This page could not be found"),null;let e=await d(g);a.fetchMetrics=M.renderOpts.fetchMetrics;let i=M.renderOpts.pendingWaitUntil;i&&c.waitUntil&&(c.waitUntil(i),i=void 0);let j=M.renderOpts.collectedTags;if(!F)return await (0,o.I)(N,O,e,M.renderOpts.pendingWaitUntil),null;{let a=await e.blob(),b=(0,p.toNodeOutgoingHttpHeaders)(e.headers);j&&(b[r.NEXT_CACHE_TAGS_HEADER]=j),!b["content-type"]&&a.type&&(b["content-type"]=a.type);let c=void 0!==M.renderOpts.collectedRevalidate&&!(M.renderOpts.collectedRevalidate>=r.INFINITE_CACHE)&&M.renderOpts.collectedRevalidate,d=void 0===M.renderOpts.collectedExpire||M.renderOpts.collectedExpire>=r.INFINITE_CACHE?void 0:M.renderOpts.collectedExpire;return{value:{kind:t.CachedRouteKind.APP_ROUTE,status:e.status,body:Buffer.from(await a.arrayBuffer()),headers:b},cacheControl:{revalidate:c,expire:d}}}}catch(b){throw(null==f?void 0:f.isStale)&&await E.onRequestError(a,b,{routerKind:"App Router",routePath:e,routeType:"route",revalidateReason:(0,n.c)({isRevalidate:I,isOnDemandRevalidate:A})},z),b}},l=await E.handleResponse({req:a,nextConfig:w,cacheKey:G,routeKind:f.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:y,isRoutePPREnabled:!1,isOnDemandRevalidate:A,revalidateOnlyGenerated:B,responseGenerator:k,waitUntil:c.waitUntil});if(!F)return null;if((null==l||null==(i=l.value)?void 0:i.kind)!==t.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==l||null==(j=l.value)?void 0:j.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});(0,h.getRequestMeta)(a,"minimalMode")||b.setHeader("x-nextjs-cache",A?"REVALIDATED":l.isMiss?"MISS":l.isStale?"STALE":"HIT"),x&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let m=(0,p.fromNodeOutgoingHttpHeaders)(l.value.headers);return(0,h.getRequestMeta)(a,"minimalMode")&&F||m.delete(r.NEXT_CACHE_TAGS_HEADER),!l.cacheControl||b.getHeader("Cache-Control")||m.get("Cache-Control")||m.set("Cache-Control",(0,q.getCacheControlHeader)(l.cacheControl)),await (0,o.I)(N,O,new Response(l.value.body,{headers:m,status:l.value.status||200})),null};L?await g(L):await K.withPropagatedContext(a.headers,()=>K.trace(m.BaseServerSpan.handleRequest,{spanName:`${J} ${a.url}`,kind:i.SpanKind.SERVER,attributes:{"http.method":J,"http.target":a.url}},g))}catch(b){if(b instanceof s.NoFallbackError||await E.onRequestError(a,b,{routerKind:"App Router",routePath:D,routeType:"route",revalidateReason:(0,n.c)({isRevalidate:I,isOnDemandRevalidate:A})}),F)throw b;return await (0,o.I)(N,O,new Response(null,{status:500})),null}}},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")}};var b=require("../../../../webpack-runtime.js");b.C(a);var c=b.X(0,[6421,7287],()=>b(b.s=85797));module.exports=c})();